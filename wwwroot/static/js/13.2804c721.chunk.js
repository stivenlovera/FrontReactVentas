(this["webpackJsonpuilib-react-admin"]=this["webpackJsonpuilib-react-admin"]||[]).push([[13],{797:function(e,t,n){"use strict";var a=n(3),r=n(15),c=n(977),i=(n(0),n(1)),o=Object(r.a)(c.a)((function(e){var t=e.theme;return{"& .MuiOutlinedInput-input":{fontWeight:500,color:t.palette.text.primary},"& .MuiOutlinedInput-notchedOutline":{borderRadius:"8px",borderColor:t.palette.action.disabled},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.action.hover},"& .MuiInputLabel-root":{fontWeight:500,color:t.palette.text.disabled},"& .MuiInputLabel-root.Mui-focused":{fontWeight:600},"& .MuiSvgIcon-root":{color:t.palette.text.disabled}}}));t.a=function(e){return Object(i.jsx)(o,Object(a.a)({},e))}},798:function(e,t,n){"use strict";var a=n(3),r=n(43),c=n(15),i=n(260),o=n(778),s=n(78),u=n(1),l=["children","open","handleClose"],d=Object(c.a)(i.a)((function(e){var t=e.theme;return{top:"50%",left:"50%",padding:24,maxWidth:680,width:"100%",borderRadius:"4px",position:"absolute",transform:"translate(-50%, -50%)",backgroundColor:Object(s.b)(t)?"#fff":t.palette.background.default}}));t.a=function(e){var t=e.children,n=e.open,c=e.handleClose,i=Object(r.a)(e,l);return Object(u.jsx)(o.a,{open:n,onClose:c,children:Object(u.jsx)(d,Object(a.a)(Object(a.a)({},i),{},{children:t}))})}},799:function(e,t,n){"use strict";var a=n(3),r=n(43),c=n(260),i=n(1),o=["children"];t.a=function(e){var t=e.children,n=Object(r.a)(e,o);return Object(i.jsx)(c.a,Object(a.a)(Object(a.a)({display:"flex",alignItems:"center",justifyContent:"center"},n),{},{children:t}))}},800:function(e,t,n){"use strict";var a=n(3),r=n(8),c=n(15),i=n(736),o=n(150),s=n(1),u=Object(c.a)(i.c)((function(e){var t,n=e.theme,a=e.bordered;return t={height:45,fontSize:12,width:"100%",maxWidth:350,fontWeight:600,padding:"0 1rem",borderRadius:"8px",color:n.palette.text.primary,backgroundColor:n.palette.background.paper,border:a?"1px solid ".concat(n.palette.action.disabled):"none"},Object(r.a)(t,n.breakpoints.down(500),{maxWidth:"100%"}),Object(r.a)(t,"::placeholder",{color:n.palette.text.disabled}),t}));t.a=function(e){var t=e.icon_style,n=void 0===t?{}:t,r=e.bordered,c=void 0===r||r;return Object(s.jsx)(u,Object(a.a)({bordered:c,startAdornment:Object(s.jsx)(o.a,{sx:Object(a.a)({fontSize:18,marginRight:1,color:"text.disabled"},n)})},e))}},801:function(e,t,n){"use strict";var a=n(3),r=n(968),c=n(260),i=n(857),o=n(858),s=n(856),u=n(859),l=n(860),d=n(967),b=n(779),p=n(266),f=n(31),j=n(15),h=n(421),O=n(983),m=n(736),x=n(150),g=(Object(j.a)(s.a)((function(e){var t=e.theme;return"select"===e.selected_row?{backgroundColor:Object(h.a)(t.palette.primary.light,.5),position:"relative","&::after":{top:0,left:0,width:"3px",content:'""',height:"100%",position:"absolute",backgroundColor:t.palette.primary.main}}:{}})),Object(j.a)(O.a)((function(e){var t=e.theme;return{"& .MuiPaginationItem-root":{fontSize:12,fontWeight:500,color:t.palette.text.disabled},"& .MuiPaginationItem-page:hover":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-page.Mui-selected":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-previousNext":{margin:10,borderRadius:20,color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:"transparent"}}}}))),C=(Object(j.a)(m.c)((function(e){return{height:40,fontSize:12,maxWidth:450,width:"100%",fontWeight:500,padding:"0.5rem",borderRadius:"4px",backgroundColor:"white",color:e.theme.palette.text.primary}})),Object(j.a)(x.a)((function(e){return{fontSize:16,marginLeft:"0.5rem",marginRight:"0.5rem",color:e.theme.palette.primary.main}})),n(0)),v=n(811),w=n(269),y=n(1);t.a=function(e){var t=e.data,n=e.rowClick,j=e.showFooter,h=e.columnShape,O=e.hidePagination,m=Object(C.useMemo)((function(){return t}),[t]),x=Object(C.useMemo)((function(){return h}),[h]),S=Object(v.useTable)({columns:x,data:m},v.useSortBy,v.useExpanded,v.usePagination,v.useRowSelect),k=S.getTableProps,I=S.getTableBodyProps,M=S.headerGroups,W=S.prepareRow,P=S.page,R=S.pageOptions,B=S.gotoPage;return Object(y.jsxs)(c.a,{children:[Object(y.jsx)(w.a,{children:Object(y.jsxs)(i.a,Object(a.a)(Object(a.a)({},k()),{},{sx:{borderSpacing:"0 1rem",borderCollapse:"separate"},children:[Object(y.jsx)(o.a,{children:M.map((function(e){return Object(y.jsx)(s.a,Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(y.jsx)(u.a,Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{sx:{paddingY:0,fontSize:12,fontWeight:600,borderBottom:0,width:e.width,color:"text.secondary",minWidth:e.minWidth,maxWidth:e.maxWidth,"&:last-child":{textAlign:"center"}},children:e.render("Header")}))}))}))}))}),Object(y.jsx)(l.a,Object(a.a)(Object(a.a)({},I()),{},{children:P.map((function(e){return W(e),Object(y.jsx)(s.a,Object(a.a)(Object(a.a)({},e.getRowProps()),{},{onClick:n&&n(e.original),sx:{backgroundColor:"background.paper",cursor:n?"pointer":"unset","& td:first-of-type":{borderLeft:"0",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px"},"& td:last-of-type":{borderRight:"0",textAlign:"center",borderTopRightRadius:"8px",borderBottomRightRadius:"8px"}},children:e.cells.map((function(e){return Object(y.jsx)(u.a,Object(a.a)(Object(a.a)({},e.getCellProps()),{},{sx:{border:0,fontSize:13,fontWeight:500,color:"text.secondary","&:first-child":{paddingLeft:"16px"},"&:last-child":{paddingRight:"16px"}},children:e.render("Cell")}))}))}))}))}))]}))}),!O&&Object(y.jsx)(d.a,{alignItems:"flex-end",marginY:1,children:Object(y.jsx)(g,{count:R.length,shape:"rounded",onChange:function(e,t){B(t-1)}})}),j&&Object(y.jsxs)(p.a,{gap:.5,children:[Object(y.jsx)(f.e,{color:"text.secondary",fontSize:13,children:"Showing 1-12 of 24 result"}),Object(y.jsxs)(b.a,{disableRipple:!0,sx:{fontSize:13,fontWeight:600,color:"text.secondary"},children:["See All",Object(y.jsx)(r.a,{})]})]})]})}},802:function(e,t,n){"use strict";var a=n(3),r=n(265),c=n(1);t.a=function(e){return Object(c.jsx)(r.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(c.jsx)("path",{d:"M20,4.5v1a.5.5,0,0,1-.5.5H4.5A.5.5,0,0,1,4,5.5v-1A.5.5,0,0,1,4.5,4H9V3a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1V4h4.5A.5.5,0,0,1,20,4.5ZM5.87,20.14a2,2,0,0,0,2,1.86h8.28a2,2,0,0,0,2-1.86L19,8H5Z"})}))}},803:function(e,t,n){"use strict";var a=n(3),r=n(43),c=n(15),i=n(260),o=(n(0),n(1)),s=["children"],u=Object(c.a)(i.a)((function(e){return{width:40,height:40,display:"flex",borderRadius:"5px",alignItems:"center",marginRight:"0.5rem",justifyContent:"center",backgroundColor:e.theme.palette.primary.light}}));t.a=function(e){var t=e.children,n=Object(r.a)(e,s);return Object(o.jsx)(u,Object(a.a)(Object(a.a)({},n),{},{children:t}))}},804:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=n.n(a).a.createContext()},805:function(e,t,n){"use strict";var a=n(3),r=n(265),c=n(1);t.a=function(e){return Object(c.jsx)(r.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(c.jsx)("path",{d:"M22.5,10h-4L12.73,2.3a.77.77,0,0,0-.6-.3h-.26a.77.77,0,0,0-.6.3L5.5,10h-4a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5H2l1.71,7.65A3,3,0,0,0,6.6,22H17.4a3,3,0,0,0,2.92-2.35L22,12h.47a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,22.5,10ZM8,10l4-5.33L16,10Z"})}))}},816:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return h}));var a=n(22),r=n(32),c=n(45);function i(e){return o.apply(this,arguments)}function o(){return(o=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat("https://api.todo-soft.net/","api/Clasificacion/clasificacion-padre/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat("https://api.todo-soft.net/","api/Clasificacion/create"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat("https://api.todo-soft.net/","api/Clasificacion"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(Object(a.a)().mark((function e(t){var n,r,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.nombreClasificacion,i=t.clasificacionId,e.next=3,c.a.post("".concat("https://api.todo-soft.net/","api/Clasificacion"),{id:n,nombreClasificacion:r,clasificacionId:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat("https://api.todo-soft.net/","api/Clasificacion/editar/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(Object(a.a)().mark((function e(t){var n,r,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.nombreClasificacion,i=t.clasificacionId,e.next=3,c.a.put("".concat("https://api.todo-soft.net/","api/Clasificacion/").concat(n),{id:n,nombreClasificacion:r,clasificacionId:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},980:function(e,t,n){"use strict";n.r(t),n.d(t,"HeadingWrapper",(function(){return F}));var a=n(10),r=n(8),c=n(970),i=n(15),o=n(260),s=n(784),u=n(51),l=n(803),d=n(800),b=n(31),p=n(805),f=n(801),j=n(0),h=n(148),O=n(969),m=n(789),x=n(802),g=n(3),C=n(773),v=n(936),w=n(976),y=n(977),S=n(798),k=(n(799),n(797)),I=n(149),M=n(804),W=n(807),P=n(808),R=n(22),B=n(32),L=n(816),H=n(267),z=n(1),A=Object(i.a)(S.a)((function(e){e.theme;return{maxWidth:700,minWidth:300,outline:"none",padding:"1.5rem"}})),T=function(e){var t=e.open,n=e.data,r=e.onClose,c=e.editClasificacion,i=(e.tipo,e.id,e.options),o=Object(C.a)((function(e){return e.breakpoints.down("xl")})),l=Object(j.useContext)(M.a),d=Object(a.a)(l,2),p=(d[0],d[1]),f=P.c().shape({id:P.b().nullable(),nombreClasificacion:P.d().min(3,"Es muy corto").required("Nombre es requerido!"),clasificacionId:P.b().nullable(),nombreClasificacionPadre:P.d().nullable()}),h=Object(W.a)({initialValues:n,validationSchema:f,onSubmit:function(e){console.log("forms",e),console.log("change option",Y),c?(console.log("edicion"),N(),p(!0)):(console.log("nuevo"),F(),p(!0)),r(),V()}}),O=h.values,m=h.errors,x=h.handleChange,S=h.handleSubmit,T=h.touched,V=(h.setFieldValue,h.resetForm),E=h.setValues,q=function(e){var t=Object(H.b)().enqueueSnackbar,n=function(){var n=Object(B.a)(Object(R.a)().mark((function n(){var a,r;return Object(R.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(L.c)(e);case 2:a=n.sent,1==(r=a.data).status?t(r.message,{variant:"success"}):t(r.message,{variant:"error"});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{handlerSubmitGuardar:function(){n()}}}(O),F=q.handlerSubmitGuardar,G=function(e){var t=Object(H.b)().enqueueSnackbar,n=function(){var n=Object(B.a)(Object(R.a)().mark((function n(){var a,r;return Object(R.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(L.d)(e);case 2:a=n.sent,1==(r=a.data).status?t(r.message,{variant:"success"}):t(r.message,{variant:"error"});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{handlerSubmitModificar:function(){n()}}}(O),N=G.handlerSubmitModificar,Z=Object(j.useState)(null),J=Object(a.a)(Z,2),Y=J[0],_=J[1],D=Object(j.useState)(""),K=Object(a.a)(D,2),Q=(K[0],K[1]);return Object(j.useEffect)((function(){_({id:n.id,nombreClasificacion:n.nombreClasificacionPadre}),E(n)}),[n]),Object(z.jsxs)(A,{open:t,handleClose:r,children:[Object(z.jsx)(b.b,{marginBottom:2,children:c&&n?"Editar Clasificacion":"A\xf1adir Clasificacion"}),Object(z.jsxs)("form",{onSubmit:S,children:[Object(z.jsx)(I.a,{style:{maxHeight:o?500:"auto"},children:Object(z.jsxs)(v.a,{container:!0,spacing:2,children:[Object(z.jsxs)(v.a,{item:!0,sm:12,xs:12,children:[Object(z.jsx)(b.f,{mb:1,children:"Pertenece a"}),Object(z.jsx)(w.a,{fullWidth:!0,getOptionLabel:function(e){return e.nombreClasificacion},options:i,autoSelect:!0,value:Y||null,size:"small",isOptionEqualToValue:function(e,t){return!!t&&e.value===t.value},onChange:function(e,t){null!=t?(_(t),E(Object(g.a)(Object(g.a)({},O),{},{clasificacionId:t.id,nombreClasificacionPadre:t.nombreClasificacion})),console.log(t)):_(null)},onInputChange:function(e,t){Q(t)},renderInput:function(e){return Object(z.jsx)(y.a,Object(g.a)(Object(g.a)({},e),{},{label:"Pertenece a",error:Boolean(T.clasificacionId&&m.clasificacionId),helperText:T.clasificacionId&&m.clasificacionId}))}})]}),Object(z.jsxs)(v.a,{item:!0,sm:12,xs:12,children:[Object(z.jsx)(b.f,{mb:1,children:"Nombre"}),Object(z.jsx)(k.a,{fullWidth:!0,size:"small",name:"nombreClasificacion",placeholder:"Nombre",value:O.nombreClasificacion,onChange:x,error:Boolean(T.nombreClasificacion&&m.nombreClasificacion),helperText:T.nombreClasificacion&&m.nombreClasificacion})]})]})}),Object(z.jsx)(v.a,{container:!0,children:Object(z.jsx)(v.a,{item:!0,xs:12,children:Object(z.jsxs)(u.a,{justifyContent:"flex-end",gap:2,marginTop:2,children:[Object(z.jsx)(s.a,{fullWidth:!0,variant:"outlined",onClick:r,children:"Cancel"}),Object(z.jsx)(s.a,{fullWidth:!0,type:"submit",variant:"contained",children:"Guardar"})]})})})]})]})},V=[{Header:"#",accessor:"id"},{Header:"Nombre",accessor:"nombreClasificacion"},{Header:"Pertenece a:",accessor:"nombreClasificacionPadre"},{Header:"Acciones",accessor:"acciones",Cell:function(e){var t=e.row,n={fontSize:19,transition:"color 0.3s",color:t.isSelected?"white":"text.disabled"},r=Object(j.useState)(""),c=Object(a.a)(r,2),i=c[0],o=c[1],s=function(e){var t=Object(j.useState)(!1),n=Object(a.a)(t,2),r=n[0],c=n[1],i=Object(j.useState)({id:0,nombreClasificacion:"",clasificacionId:0,nombreClasificacionPadre:""}),o=Object(a.a)(i,2),s=o[0],u=o[1],l=Object(j.useState)([{id:0,nombreClasificacion:"Seleccione"}]),d=Object(a.a)(l,2),b=d[0],p=d[1],f=function(){var t=Object(B.a)(Object(R.a)().mark((function t(){var n,a;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.b)(e);case 2:n=t.sent,a=n.data,u(a.data.clasificacion),p(a.data.clasificaciones);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{editar:s,options:b,openModal:r,handlerOpen:function(e){c(!0),f()},handlerClose:function(e){c(!1)}}}(t.original.id),u=s.openModal,l=s.editar,d=s.handlerClose,b=s.handlerOpen,p=s.options;return Object(z.jsxs)(j.Fragment,{children:[Object(z.jsx)(m.a,{onClick:function(){b(),o("editar")},children:Object(z.jsx)(O.a,{sx:{fontSize:18,color:"text.disabled"}})}),Object(z.jsx)(m.a,{onClick:function(){alert("funcion pendiente")},children:Object(z.jsx)(x.a,{sx:n})}),Object(z.jsx)(T,{editClasificacion:!0,open:u,data:l,id:t.original.id,options:p,onClose:function(e){d(),o("")},tipo:i})]})}}],E=V,q=function(){var e=Object(j.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(j.useState)(""),i=Object(a.a)(c,2),o=i[0],s=i[1],u=function(){var e=Object(B.a)(Object(R.a)().mark((function e(){var t,n;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.e)();case 2:t=e.sent,n=t.data,r(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{filteredItem:n,setFilteredItem:r,searchValue:o,setSearchValue:s,filter:function(){var e=function(e,t){return t.length>0?e.filter((function(e){return e.nombre.toLocaleLowerCase().match(t.toLowerCase())})):e}(n,o);r(e)},listar:u}},F=Object(i.a)(u.a)((function(e){var t=e.theme;return Object(r.a)({marginBottom:20,flexWrap:"wrap"},t.breakpoints.down(530),{"& .MuiButton-root":{width:"100%"},"& .MuiInputBase-root":{maxWidth:"100%",marginBottom:15}})}));t.default=function(){var e=Object(h.b)().t,t=Object(j.useState)(!1),n=Object(a.a)(t,2),r=n[0],i=n[1],O=q(),m=O.listar,x=O.filteredItem,g=(O.filter,O.setSearchValue),C=O.searchValue,v=function(){var e=Object(j.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(j.useState)({id:0,nombreClasificacion:"",clasificacionId:0,nombreClasificacionPadre:""}),i=Object(a.a)(c,2),o=i[0],s=i[1],u=Object(j.useState)([{id:0,nombreClasificacion:"Seleccione"}]),l=Object(a.a)(u,2),d=l[0],b=l[1],p=function(){var e=Object(B.a)(Object(R.a)().mark((function e(){var t,n;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)();case 2:t=e.sent,n=t.data,console.log("de api",n.data.clasificaciones),b(n.data.clasificaciones);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{options:d,create:o,setCreate:s,openModal:n,handlerOpen:function(e){r(!0),p()},handlerClose:function(e){r(!1)},data:{create:o,options:d}}}(),w=(v.crear,v.create),y=v.options,S=(v.setCreate,v.openModal),k=v.handlerOpen,I=v.handlerClose;return Object(j.useEffect)((function(){m(),i(!1)}),[C,r]),Object(z.jsx)(M.a.Provider,{value:[r,i],children:Object(z.jsxs)(o.a,{pt:2,pb:4,children:[Object(z.jsxs)(F,{justifyContent:"space-between",alignItems:"center",children:[Object(z.jsxs)(u.a,{gap:.5,alignItems:"center",children:[Object(z.jsx)(l.a,{children:Object(z.jsx)(p.a,{sx:{color:"primary.main"}})}),Object(z.jsx)(b.e,{children:"Clasificacion"})]}),Object(z.jsx)(d.a,{bordered:"true",placeholder:"Buscar clasificacion",onChange:function(e){return g(e.target.value)}}),Object(z.jsx)(s.a,{variant:"contained",endIcon:Object(z.jsx)(c.a,{}),onClick:k,children:e("A\xf1adir Clasificacion")})]}),Object(z.jsx)(f.a,{columnShape:E,data:x}),Object(z.jsx)(T,{data:w,options:y,open:S,onClose:I,tipo:"nuevo"})]})})}}}]);
//# sourceMappingURL=13.2804c721.chunk.js.map